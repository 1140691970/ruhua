(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5c06b778"],{"02f4":function(t,e,i){var r=i("4588"),n=i("be13");t.exports=function(t){return function(e,i){var o,s,a=String(n(e)),c=r(i),l=a.length;return c<0||c>=l?t?"":void 0:(o=a.charCodeAt(c),o<55296||o>56319||c+1===l||(s=a.charCodeAt(c+1))<56320||s>57343?t?a.charAt(c):o:t?a.slice(c,c+2):s-56320+(o-55296<<10)+65536)}}},"0390":function(t,e,i){"use strict";var r=i("02f4")(!0);t.exports=function(t,e,i){return e+(i?r(t,e).length:1)}},1173:function(t,e){t.exports=function(t,e,i,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(i+": incorrect invocation!");return t}},"11e9":function(t,e,i){var r=i("52a7"),n=i("4630"),o=i("6821"),s=i("6a99"),a=i("69a8"),c=i("c69a"),l=Object.getOwnPropertyDescriptor;e.f=i("9e1e")?l:function(t,e){if(t=o(t),e=s(e,!0),c)try{return l(t,e)}catch(i){}if(a(t,e))return n(!r.f.call(t,e),t[e])}},"1af6":function(t,e,i){var r=i("63b6");r(r.S,"Array",{isArray:i("9003")})},"214f":function(t,e,i){"use strict";i("b0c5");var r=i("2aba"),n=i("32e9"),o=i("79e5"),s=i("be13"),a=i("2b4c"),c=i("520a"),l=a("species"),u=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2===i.length&&"a"===i[0]&&"b"===i[1]}();t.exports=function(t,e,i){var d=a(t),h=!o((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),p=h?!o((function(){var e=!1,i=/a/;return i.exec=function(){return e=!0,null},"split"===t&&(i.constructor={},i.constructor[l]=function(){return i}),i[d](""),!e})):void 0;if(!h||!p||"replace"===t&&!u||"split"===t&&!f){var m=/./[d],g=i(s,d,""[t],(function(t,e,i,r,n){return e.exec===c?h&&!n?{done:!0,value:m.call(e,i,r)}:{done:!0,value:t.call(i,e,r)}:{done:!1}})),v=g[0],_=g[1];r(String.prototype,t,v),n(RegExp.prototype,d,2==e?function(t,e){return _.call(t,this,e)}:function(t){return _.call(t,this)})}}},"24c5":function(t,e,i){"use strict";var r,n,o,s,a=i("b8e3"),c=i("e53d"),l=i("d864"),u=i("40c3"),f=i("63b6"),d=i("f772"),h=i("79aa"),p=i("1173"),m=i("a22a"),g=i("f201"),v=i("4178").set,_=i("aba2")(),b=i("656e"),y=i("4439"),k=i("bc13"),w=i("cd78"),x="Promise",L=c.TypeError,S=c.process,E=S&&S.versions,N=E&&E.v8||"",j=c[x],C="process"==u(S),O=function(){},T=n=b.f,$=!!function(){try{var t=j.resolve(1),e=(t.constructor={})[i("5168")("species")]=function(t){t(O,O)};return(C||"function"==typeof PromiseRejectionEvent)&&t.then(O)instanceof e&&0!==N.indexOf("6.6")&&-1===k.indexOf("Chrome/66")}catch(r){}}(),P=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},I=function(t,e){if(!t._n){t._n=!0;var i=t._c;_((function(){var r=t._v,n=1==t._s,o=0,s=function(e){var i,o,s,a=n?e.ok:e.fail,c=e.resolve,l=e.reject,u=e.domain;try{a?(n||(2==t._h&&F(t),t._h=1),!0===a?i=r:(u&&u.enter(),i=a(r),u&&(u.exit(),s=!0)),i===e.promise?l(L("Promise-chain cycle")):(o=P(i))?o.call(i,c,l):c(i)):l(r)}catch(f){u&&!s&&u.exit(),l(f)}};while(i.length>o)s(i[o++]);t._c=[],t._n=!1,e&&!t._h&&A(t)}))}},A=function(t){v.call(c,(function(){var e,i,r,n=t._v,o=R(t);if(o&&(e=y((function(){C?S.emit("unhandledRejection",n,t):(i=c.onunhandledrejection)?i({promise:t,reason:n}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",n)})),t._h=C||R(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},R=function(t){return 1!==t._h&&0===(t._a||t._c).length},F=function(t){v.call(c,(function(){var e;C?S.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})}))},V=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),I(e,!0))},M=function(t){var e,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw L("Promise can't be resolved itself");(e=P(t))?_((function(){var r={_w:i,_d:!1};try{e.call(t,l(M,r,1),l(V,r,1))}catch(n){V.call(r,n)}})):(i._v=t,i._s=1,I(i,!1))}catch(r){V.call({_w:i,_d:!1},r)}}};$||(j=function(t){p(this,j,x,"_h"),h(t),r.call(this);try{t(l(M,this,1),l(V,this,1))}catch(e){V.call(this,e)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=i("5c95")(j.prototype,{then:function(t,e){var i=T(g(this,j));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=C?S.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&I(this,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=l(M,t,1),this.reject=l(V,t,1)},b.f=T=function(t){return t===j||t===s?new o(t):n(t)}),f(f.G+f.W+f.F*!$,{Promise:j}),i("45f2")(j,x),i("4c95")(x),s=i("584a")[x],f(f.S+f.F*!$,x,{reject:function(t){var e=T(this),i=e.reject;return i(t),e.promise}}),f(f.S+f.F*(a||!$),x,{resolve:function(t){return w(a&&this===s?j:this,t)}}),f(f.S+f.F*!($&&i("4ee1")((function(t){j.all(t)["catch"](O)}))),x,{all:function(t){var e=this,i=T(e),r=i.resolve,n=i.reject,o=y((function(){var i=[],o=0,s=1;m(t,!1,(function(t){var a=o++,c=!1;i.push(void 0),s++,e.resolve(t).then((function(t){c||(c=!0,i[a]=t,--s||r(i))}),n)})),--s||r(i)}));return o.e&&n(o.v),i.promise},race:function(t){var e=this,i=T(e),r=i.reject,n=y((function(){m(t,!1,(function(t){e.resolve(t).then(i.resolve,r)}))}));return n.e&&r(n.v),i.promise}})},"28a5":function(t,e,i){"use strict";var r=i("aae3"),n=i("cb7c"),o=i("ebd6"),s=i("0390"),a=i("9def"),c=i("5f1b"),l=i("520a"),u=i("79e5"),f=Math.min,d=[].push,h="split",p="length",m="lastIndex",g=4294967295,v=!u((function(){RegExp(g,"y")}));i("214f")("split",2,(function(t,e,i,u){var _;return _="c"=="abbc"[h](/(b)*/)[1]||4!="test"[h](/(?:)/,-1)[p]||2!="ab"[h](/(?:ab)*/)[p]||4!="."[h](/(.?)(.?)/)[p]||"."[h](/()()/)[p]>1||""[h](/.?/)[p]?function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!r(t))return i.call(n,t,e);var o,s,a,c=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,h=void 0===e?g:e>>>0,v=new RegExp(t.source,u+"g");while(o=l.call(v,n)){if(s=v[m],s>f&&(c.push(n.slice(f,o.index)),o[p]>1&&o.index<n[p]&&d.apply(c,o.slice(1)),a=o[0][p],f=s,c[p]>=h))break;v[m]===o.index&&v[m]++}return f===n[p]?!a&&v.test("")||c.push(""):c.push(n.slice(f)),c[p]>h?c.slice(0,h):c}:"0"[h](void 0,0)[p]?function(t,e){return void 0===t&&0===e?[]:i.call(this,t,e)}:i,[function(i,r){var n=t(this),o=void 0==i?void 0:i[e];return void 0!==o?o.call(i,n,r):_.call(String(n),i,r)},function(t,e){var r=u(_,t,this,e,_!==i);if(r.done)return r.value;var l=n(t),d=String(this),h=o(l,RegExp),p=l.unicode,m=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(v?"y":"g"),b=new h(v?l:"^(?:"+l.source+")",m),y=void 0===e?g:e>>>0;if(0===y)return[];if(0===d.length)return null===c(b,d)?[d]:[];var k=0,w=0,x=[];while(w<d.length){b.lastIndex=v?w:0;var L,S=c(b,v?d:d.slice(w));if(null===S||(L=f(a(b.lastIndex+(v?0:w)),d.length))===k)w=s(d,w,p);else{if(x.push(d.slice(k,w)),x.length===y)return x;for(var E=1;E<=S.length-1;E++)if(x.push(S[E]),x.length===y)return x;w=k=L}}return x.push(d.slice(k)),x}]}))},3024:function(t,e){t.exports=function(t,e,i){var r=void 0===i;switch(e.length){case 0:return r?t():t.call(i);case 1:return r?t(e[0]):t.call(i,e[0]);case 2:return r?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},3702:function(t,e,i){var r=i("481b"),n=i("5168")("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[n]===t)}},"386b":function(t,e,i){var r=i("5ca1"),n=i("79e5"),o=i("be13"),s=/"/g,a=function(t,e,i,r){var n=String(o(t)),a="<"+e;return""!==i&&(a+=" "+i+'="'+String(r).replace(s,"&quot;")+'"'),a+">"+n+"</"+e+">"};t.exports=function(t,e){var i={};i[t]=e(a),r(r.P+r.F*n((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",i)}},"3c11":function(t,e,i){"use strict";var r=i("63b6"),n=i("584a"),o=i("e53d"),s=i("f201"),a=i("cd78");r(r.P+r.R,"Promise",{finally:function(t){var e=s(this,n.Promise||o.Promise),i="function"==typeof t;return this.then(i?function(i){return a(e,t()).then((function(){return i}))}:t,i?function(i){return a(e,t()).then((function(){throw i}))}:t)}})},"40c3":function(t,e,i){var r=i("6b4c"),n=i("5168")("toStringTag"),o="Arguments"==r(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(i){}};t.exports=function(t){var e,i,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=s(e=Object(t),n))?i:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},4178:function(t,e,i){var r,n,o,s=i("d864"),a=i("3024"),c=i("32fc"),l=i("1ec9"),u=i("e53d"),f=u.process,d=u.setImmediate,h=u.clearImmediate,p=u.MessageChannel,m=u.Dispatch,g=0,v={},_="onreadystatechange",b=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},y=function(t){b.call(t.data)};d&&h||(d=function(t){var e=[],i=1;while(arguments.length>i)e.push(arguments[i++]);return v[++g]=function(){a("function"==typeof t?t:Function(t),e)},r(g),g},h=function(t){delete v[t]},"process"==i("6b4c")(f)?r=function(t){f.nextTick(s(b,t,1))}:m&&m.now?r=function(t){m.now(s(b,t,1))}:p?(n=new p,o=n.port2,n.port1.onmessage=y,r=s(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(t){u.postMessage(t+"","*")},u.addEventListener("message",y,!1)):r=_ in l("script")?function(t){c.appendChild(l("script"))[_]=function(){c.removeChild(this),b.call(t)}}:function(t){setTimeout(s(b,t,1),0)}),t.exports={set:d,clear:h}},"43fc":function(t,e,i){"use strict";var r=i("63b6"),n=i("656e"),o=i("4439");r(r.S,"Promise",{try:function(t){var e=n.f(this),i=o(t);return(i.e?e.reject:e.resolve)(i.v),e.promise}})},4439:function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},"469f":function(t,e,i){i("6c1c"),i("1654"),t.exports=i("7d7b")},"4c95":function(t,e,i){"use strict";var r=i("e53d"),n=i("584a"),o=i("d9f6"),s=i("8e60"),a=i("5168")("species");t.exports=function(t){var e="function"==typeof n[t]?n[t]:r[t];s&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},"4ee1":function(t,e,i){var r=i("5168")("iterator"),n=!1;try{var o=[7][r]();o["return"]=function(){n=!0},Array.from(o,(function(){throw 2}))}catch(s){}t.exports=function(t,e){if(!e&&!n)return!1;var i=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:i=!0}},o[r]=function(){return a},t(o)}catch(s){}return i}},"504c":function(t,e,i){var r=i("9e1e"),n=i("0d58"),o=i("6821"),s=i("52a7").f;t.exports=function(t){return function(e){var i,a=o(e),c=n(a),l=c.length,u=0,f=[];while(l>u)i=c[u++],r&&!s.call(a,i)||f.push(t?[i,a[i]]:a[i]);return f}}},"520a":function(t,e,i){"use strict";var r=i("0bfb"),n=RegExp.prototype.exec,o=String.prototype.replace,s=n,a="lastIndex",c=function(){var t=/a/,e=/b*/g;return n.call(t,"a"),n.call(e,"a"),0!==t[a]||0!==e[a]}(),l=void 0!==/()??/.exec("")[1],u=c||l;u&&(s=function(t){var e,i,s,u,f=this;return l&&(i=new RegExp("^"+f.source+"$(?!\\s)",r.call(f))),c&&(e=f[a]),s=n.call(f,t),c&&s&&(f[a]=f.global?s.index+s[0].length:e),l&&s&&s.length>1&&o.call(s[0],i,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(s[u]=void 0)})),s}),t.exports=s},"54a1":function(t,e,i){i("6c1c"),i("1654"),t.exports=i("95d5")},"5c95":function(t,e,i){var r=i("35e8");t.exports=function(t,e,i){for(var n in e)i&&t[n]?t[n]=e[n]:r(t,n,e[n]);return t}},"5d73":function(t,e,i){t.exports=i("469f")},"5dbc":function(t,e,i){var r=i("d3f4"),n=i("8b97").set;t.exports=function(t,e,i){var o,s=e.constructor;return s!==i&&"function"==typeof s&&(o=s.prototype)!==i.prototype&&r(o)&&n&&n(t,o),t}},"5dc6":function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"about"},[i("el-drawer",{attrs:{title:"视频管理",visible:t.drawer,direction:"rtl",size:"35%","before-close":t.close_box},on:{"update:visible":function(e){t.drawer=e}}},[i("span",[i("div",{staticClass:"rltan"},[t.show?i("video",{attrs:{controls:"controls",width:"300",height:"200",autoplay:"autoplay"}},[i("source",{attrs:{src:t.play_url,type:"video/mp4"}})]):t._e(),i("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"con"},[t._v("\n\t\t\t\t\t视频上传（10M）以内：\n\t\t\t\t\t"),i("input",{ref:"inputer",attrs:{type:"file",id:"fileExport"},on:{change:t.handleFileChange}}),i("el-dialog",{attrs:{visible:t.dialogVisiblea},on:{"update:visible":function(e){t.dialogVisiblea=e}}}),i("div",{staticStyle:{height:"25px"}}),i("el-row",{attrs:{gutter:18}},[0==t.cate_id?t._l(t.img_list,(function(e,r){return i("el-col",{key:r,attrs:{span:6}},[i("div",{class:t.tab_css(r),staticStyle:{"word-wrap":"normal","word-break":"break-all",padding:"5px","text-align":"center","line-height":"30px",overflow:"hidden"},on:{click:function(e){return t.choose_img(r)}}},[[e.description?[t._v(t._s(e.description))]:[t._v(t._s(e.url))]]],2),t.play_index!=r?i("el-button",{staticStyle:{"margin-left":"25%"},attrs:{type:"primary",size:"mini"},on:{click:function(i){return t.play(e.url,r)}}},[t._v("播放")]):i("el-button",{staticStyle:{"margin-left":"25%"},attrs:{type:"danger",size:"mini"},on:{click:function(e){return t.cancel_play(r)}}},[t._v("取消")])],1)})):t._l(t.imgB,(function(e,r){return i("el-col",{key:r,staticClass:"abox",attrs:{span:6}},[i("div",{class:t.tab_css(r)},[i("img",{staticClass:"img",attrs:{src:t.getimg+e.url},on:{click:function(e){return t.choose_img(r)}}})])])}))],2),i("div",{staticStyle:{height:"300px"}})],1),i("div",{staticClass:"footbtn"},[i("el-button",{on:{click:t.close_box}},[t._v("取消")]),i("el-button",{attrs:{type:"warning"},on:{click:t.del_img}},[t._v("删除")]),i("el-button",{attrs:{type:"primary"},on:{click:t.add_img}},[t._v("确定")])],1)])])]),i("el-dialog",{attrs:{title:"添加视频分类",visible:t.dialogVisibleadd,width:"30%"},on:{"update:visible":function(e){t.dialogVisibleadd=e}}},[i("el-form",{ref:"cate_form",attrs:{model:t.cate_form,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"分类名称"}},[i("el-input",{model:{value:t.cate_form.category_name,callback:function(e){t.$set(t.cate_form,"category_name",e)},expression:"cate_form.category_name"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisibleadd=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确 定")])],1)],1)],1)},n=[],o=(i("7f7f"),i("a49b")),s={data:function(){return{show:!1,play_url:"",fullscreenLoading:!1,activeName:"first",form:{name:"",banner_imgs:""},play_index:-1,dialogVisibleadd:!1,dialogVisiblea:!1,getimg:this.$getimg,cate_id:"0",cate_form:{category_name:""},img_category:"",img_list:[],checkList:[],add_img_list:[],upfile_url:o["a"]+"video/admin/add_video",upfile_head:{token:localStorage.getItem("token")},upfile_list:[],upfile_list_sku:[],upfile_banner_list:[]}},props:{drawer:"",length:"",ishead:"",father_fun:Function,iscg:""},components:{},mounted:function(){this._load(),this.checkList=[]},methods:{_load:function(){var t=this;this.http.get("video/admin/get_all_video").then((function(e){for(var i in e.data)e.data[i].is_play=0;t.img_list=e.data}))},play:function(t,e){var i=this;this.play_index=e,this.show=!1,this.play_url="",setTimeout((function(){i.show=!0,i.play_url=o["a"]+t}),100),console.log(this.play_url),console.log(this.show)},cancel_play:function(t){this.play_index==t&&(this.show=!1,this.play_index=-1)},handleFileChange:function(){var t=this;this.fullscreenLoading=!0;var e=this.$refs.inputer,i=e.files[0],r=Math.floor(i.size/1024);console.log(r/1024);var n=new FormData;n.append("file",i),console.log(i),r/1024>10?this.$message.error("上传文件大小不能超过10M"):this.http.file_post("video/admin/add_video",n).then((function(e){t.fullscreenLoading=!1,t.$message({message:e.msg,type:"success"}),t._load()}))},onSubmit:function(){var t=this;this.http.post_show("img_category/admin/add_category",this.cate_form).then((function(e){t.$message({message:"添加成功",type:"success"}),t.dialogVisibleadd=!1,t._load()}))},change_del:function(){this.checkList=[],this.show_choose="",this.length=this.img_list.length},add_img:function(){console.log("start:",this.checkList,this.img_list,this.add_img_list);var t=this;for(var e in this.checkList){var i=this.checkList[e];for(var r in this.img_list)i==r&&t.add_img_list.push({id:this.img_list[r].id,url:this.img_list[r].url,description:this.img_list[r].description})}if(this.add_img_list.length<=this.length){var n=this.add_img_list;this.add_img_list=[],this.checkList=[],this.father_fun(n),this.drawer=!1}else this.$message({message:"最多选择"+this.length+"个视频",type:"warning"})},tab_css:function(t){return this.checkList.indexOf(t)>-1?"pic1":"pic"},choose_img:function(t){console.log("choose_img",t,this.length);var e=this;if(e.checkList.indexOf(t)>-1){var i=e.checkList.indexOf(t);e.checkList.splice(i,1)}else{if(!(e.checkList.length<e.length))return void this.$message({message:"最多选择"+this.length+"个视频",type:"warning"});e.checkList.push(t)}},del_img:function(){var t=this,e=[];for(var i in this.checkList){var r=this.checkList[i];for(var n in this.img_list)r==n&&e.push(this.img_list[n].id)}this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.http.post_show("video/admin/edit_video",{ids:e}).then((function(e){t.$message({type:"success",message:e.msg}),t.checkList=[],t._load()}))}))},upimg_back_fun:function(t){this.$message({type:"success",message:"上传成功"}),console.log(t),console.log(this.upfile_banner_list),this._load()},category_nav:function(t){this.cate_id=t.name;var e=[];for(var i in this.img_list){var r=this.img_list[i];r.category_id==t.name&&e.push(r)}this.imgB=e},close_box:function(){console.log("xxx"),this.add_img_list=[],this.checkList=[],this.add_img()}}},a=s,c=(i("6f7f"),i("2877")),l=Object(c["a"])(a,r,n,!1,null,null,null);e["default"]=l.exports},"5f1b":function(t,e,i){"use strict";var r=i("23c6"),n=RegExp.prototype.exec;t.exports=function(t,e){var i=t.exec;if("function"===typeof i){var o=i.call(t,e);if("object"!==typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return n.call(t,e)}},"656e":function(t,e,i){"use strict";var r=i("79aa");function n(t){var e,i;this.promise=new t((function(t,r){if(void 0!==e||void 0!==i)throw TypeError("Bad Promise constructor");e=t,i=r})),this.resolve=r(e),this.reject=r(i)}t.exports.f=function(t){return new n(t)}},"673e":function(t,e,i){"use strict";i("386b")("sub",(function(t){return function(){return t(this,"sub","","")}}))},"696e":function(t,e,i){i("c207"),i("1654"),i("6c1c"),i("24c5"),i("3c11"),i("43fc"),t.exports=i("584a").Promise},"6f7f":function(t,e,i){"use strict";var r=i("f89f"),n=i.n(r);n.a},7370:function(t,e,i){"use strict";var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"release"}},[i("transition",{attrs:{appear:"","appear-active-class":"animated fadeInLeft"}},[i("div",{staticClass:"release"},[i("div",{staticClass:"order-back",staticStyle:{"margin-bottom":"20px"}},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.back}},[t._v("返回")]),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.caiji}},[t._v("采集商品")])],1),i("el-form",{ref:"forms",attrs:{model:t.forms,"label-width":"120px"}},[i("el-form-item",{attrs:{label:"商品名称"}},[i("el-input",{staticStyle:{width:"60%"},model:{value:t.forms.goods_name,callback:function(e){t.$set(t.forms,"goods_name",e)},expression:"forms.goods_name"}})],1),i("el-form-item",{attrs:{label:"商品类型"}},[i("el-radio",{attrs:{label:0,border:"",size:"medium"},model:{value:t.forms.style,callback:function(e){t.$set(t.forms,"style",e)},expression:"forms.style"}},[t._v("实物商品(物流)")]),i("el-radio",{attrs:{label:1,border:"",size:"medium"},model:{value:t.forms.style,callback:function(e){t.$set(t.forms,"style",e)},expression:"forms.style"}},[t._v("虚拟商品(验证码)")])],1),i("el-form-item",{attrs:{label:"商品分类"}},[i("el-select",{attrs:{placeholder:"请选择商品分类"},model:{value:t.forms.category_id,callback:function(e){t.$set(t.forms,"category_id",e)},expression:"forms.category_id"}},[t._l(t.category,(function(e){return[1==e.level?i("el-option",{key:e.category_id,attrs:{value:e.category_id,label:e.category_name}}):t._e(),2==e.level?i("el-option",{key:e.category_id,attrs:{value:e.category_id,label:"--"+e.category_name}}):t._e()]}))],2)],1),i("el-form-item",{attrs:{label:"商品促销语"}},[i("el-input",{staticStyle:{width:"60%"},model:{value:t.forms.description,callback:function(e){t.$set(t.forms,"description",e)},expression:"forms.description"}})],1),i("el-row",[i("el-col",{attrs:{span:4}},[i("el-form-item",{attrs:{label:"基础销量"}},[i("el-input",{staticStyle:{width:"100px"},model:{value:t.forms.sales,callback:function(e){t.$set(t.forms,"sales",e)},expression:"forms.sales"}}),i("span",[t._v("件")])],1)],1),i("el-col",{attrs:{span:4}},[i("el-form-item",{attrs:{label:"市场价格"}},[i("el-input",{staticStyle:{width:"100px"},model:{value:t.forms.market_price,callback:function(e){t.$set(t.forms,"market_price",e)},expression:"forms.market_price"}}),i("span",[t._v("元")])],1)],1),i("el-col",{attrs:{span:4}},[i("el-form-item",{attrs:{label:"运费"}},[i("el-select",{attrs:{placeholder:"请选择运费模板"},model:{value:t.forms.delivery_id,callback:function(e){t.$set(t.forms,"delivery_id",e)},expression:"forms.delivery_id"}},t._l(t.delivery,(function(t){return i("el-option",{key:t.id,attrs:{value:t.id,label:t.name}})})),1)],1)],1)],1),i("el-row",[i("el-col",{attrs:{span:4}},[i("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"商品大图"}},[t.img_list.length<6?i("el-button",{staticStyle:{"margin-bottom":"20px"},attrs:{size:"small",type:"primary"},on:{click:t.choose_pic}},[t._v("选择图片")]):t._e(),[t.img_list.length>0?[i("div",{staticStyle:{display:"flex",width:"700px","flex-wrap":"wrap"}},[t._l(t.img_list,(function(e,r){return[t.img_list.length>0?i("div",{staticClass:"picA"},[1==t.is_caiji?[i("img",{staticClass:"img",attrs:{src:e}})]:[i("img",{staticClass:"img",attrs:{src:t.getimg+e.url}})],i("i",{staticClass:"el-icon-circle-close",on:{click:function(e){return t.del_img(r)}}})],2):t._e()]}))],2)]:t._e()]],2)],1),i("el-col",{attrs:{span:12}},[i("el-col",{attrs:{span:7}},[i("el-form-item",{attrs:{label:"商品视频"}},[i("el-button",{staticStyle:{"margin-bottom":"20px"},attrs:{size:"small",type:"primary"},on:{click:t.choose_video}},[t._v("选择视频")])],1)],1),i("el-col",{attrs:{span:4}},[t.video_data.description?[t._v(t._s(t.video_data.description))]:[t._v(t._s(t.video_data.url))]],2)],1)],1),i("el-form-item",{attrs:{label:"规格类型"}},[i("el-radio",{attrs:{label:0,border:"",size:"medium",checked:t.show_sku?"":"checked"},model:{value:t.show_sku,callback:function(e){t.show_sku=e},expression:"show_sku"}},[t._v("无")]),i("el-radio",{attrs:{label:1,border:"",size:"medium",checked:t.show_sku?"checked":""},model:{value:t.show_sku,callback:function(e){t.show_sku=e},expression:"show_sku"}},[t._v("有")])],1),0==t.show_sku?i("el-row",[i("el-col",{attrs:{span:4.8}},[i("el-form-item",{attrs:{label:"总库存"}},[i("el-input",{staticStyle:{width:"100px"},model:{value:t.forms.stock,callback:function(e){t.$set(t.forms,"stock",e)},expression:"forms.stock"}}),i("span",[t._v("件")])],1)],1),i("el-col",{attrs:{span:4.8}},[i("el-form-item",{attrs:{label:"销售价格"}},[i("el-input",{staticStyle:{width:"100px"},model:{value:t.forms.price,callback:function(e){t.$set(t.forms,"price",e)},expression:"forms.price"}}),i("span",[t._v("元")])],1)],1)],1):t._e(),i("el-form-item",[i("skuv",{directives:[{name:"show",rawName:"v-show",value:t.show_sku,expression:"show_sku"}],attrs:{sub:t.sub,del:t.sku_comfirm,rdata:t.rdata},on:{pro_sku:t.pro_sku}})],1),i("el-form-item",{attrs:{label:"商品详情",prop:"desc"}},[i("vue-ueditor-wrap",{attrs:{config:t.myConfig},model:{value:t.forms.content,callback:function(e){t.$set(t.forms,"content",e)},expression:"forms.content"}})],1),i("el-form-item",[t.sub_btn?i("el-button",{attrs:{type:"primary"},on:{click:t.on_add}},[t._v("立即创建")]):t._e(),t.sub_btn?t._e():i("el-button",{attrs:{type:"success"},on:{click:t.on_xg}},[t._v("提交修改")]),i("el-button",{on:{click:t.rest}},[t._v("取消")])],1)],1)],1)]),i("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{title:"采集商品",visible:t.dialogVisible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("span",[t._v("京东或淘宝")]),i("el-input",{attrs:{placeholder:"请输入采集地址"},model:{value:t.caiji_url,callback:function(e){t.caiji_url=e},expression:"caiji_url"}}),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),i("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:t.sub_caiji}},[t._v("确 定")])],1)],1),i("Pic",{ref:"child",attrs:{drawer:t.drawer,father_fun:t.get_img,length:t.length,iscg:t.is_cg}}),i("Video",{ref:"child_video",attrs:{drawer:t.drawer_video,father_fun:t.get_video,length:t.length_video,iscg:t.is_cg}})],1)},n=[],o=(i("28a5"),i("6b54"),i("ac6a"),i("96cf"),i("795b")),s=i.n(o);function a(t,e,i,r,n,o,a){try{var c=t[o](a),l=c.value}catch(u){return void i(u)}c.done?e(l):s.a.resolve(l).then(r,n)}function c(t){return function(){var e=this,i=arguments;return new s.a((function(r,n){var o=t.apply(e,i);function s(t){a(o,r,n,s,c,"next",t)}function c(t){a(o,r,n,s,c,"throw",t)}s(void 0)}))}}i("673e");var l=i("5c96"),u=i("6625"),f=i.n(u),d=i("ab56"),h=i("5dc6"),p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"sku_tag"}},[i("div",{staticClass:"form-group"},[i("div",{staticClass:"form-h"},[t._v("商品规格")]),t._l(t.attrs,(function(e,r){return i("div",{key:r,staticClass:"form-item"},[i("div",{staticClass:"form-title"},[i("el-input",{staticClass:"sku-name",attrs:{placeholder:"规格名"},model:{value:e.pName,callback:function(i){t.$set(e,"pName",i)},expression:"attr.pName"}}),0==r?i("el-checkbox",{model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("添加规格图片")]):t._e(),i("span",{staticClass:"delete",on:{click:function(e){return t.toDelete(r)}}},[t._v("×")])],1),i("ul",{staticClass:"form-list"},[t._l(e.spec,(function(e,n){return i("li",{key:n},[i("div",{staticClass:"spgg_r_02_2"},[i("el-input",{model:{value:e.cName,callback:function(i){t.$set(e,"cName",i)},expression:"item.cName"}}),i("div",{staticClass:"in_clo",on:{click:function(e){return t.del_canshu(r,n)}}},[i("i",{staticClass:"el-icon-error",staticStyle:{color:"#cecece"}})])],1),t.checked&&0==r?i("div",[t.checked?i("div",{staticClass:"picA",on:{click:function(e){return t.choose_pic(n)}}},[e.pic?i("img",{attrs:{src:t.getimg+e.pic}}):i("i",{staticClass:"el-icon-plus sku-img"})]):t._e()]):t._e()])})),i("li",[t._v("\n\t\t\t\t\t \n\t\t\t\t\t"),i("button",{staticClass:"btn",attrs:{type:"button",name:""},on:{click:function(e){return t.add_canshu(r)}}},[t._v("添加")])])],2),t.checked&&0==r?i("div",{staticClass:"spgg_r_04"},[t._v("\n\t\t\t\t仅支持为第一组规格设置规格图片，建议尺寸：160*160像素\n\t\t\t")]):t._e()])})),i("div",{staticClass:"form-btn-group"},[i("el-button",{attrs:{size:"mini",disabled:3==t.attrs.length,type:"button",name:""},on:{click:t.addItem}},[t._v("添加规格项目")])],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.tableData,expression:"tableData"}],staticClass:"form-table"},[i("div",{staticClass:"stock-title"},[t._v("商品库存")]),i("table",{staticClass:"table-sku",attrs:{border:"1px solid #ccc"}},[i("thead",[i("tr",[t._l(t.tableData,(function(e,r){return i("th",{key:r},[t._v(t._s(e["pName"]))])})),i("th",{attrs:{width:"200"}},[t._v("价格")]),i("th",{attrs:{width:"200"}},[t._v("库存")])],2)]),i("tbody",t._l(t.rows,(function(e){return i("tr",{key:e},[t._l(t.tableData,(function(r,n){return(e-1)%r["rowspan"]?t._e():i("td",{key:n,attrs:{rowspan:r["rowspan"]}},[t._v(t._s(t._f("getName")(r,e)))])})),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.tableList[e-1]["price"],expression:"tableList[row-1]['price']"}],attrs:{placeholder:"单价"},domProps:{value:t.tableList[e-1]["price"]},on:{input:function(i){i.target.composing||t.$set(t.tableList[e-1],"price",i.target.value)}}})]),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.tableList[e-1]["stock_num"],expression:"tableList[row-1]['stock_num']"}],attrs:{placeholder:"库存"},domProps:{value:t.tableList[e-1]["stock_num"]},on:{input:function(i){i.target.composing||t.$set(t.tableList[e-1],"stock_num",i.target.value)}}})])],2)})),0)])])],2),i("Pic",{attrs:{drawer:t.drawer,father_fun:t.get_img,length:t.length}})],1)},m=[],g=(i("7f7f"),i("a745")),v=i.n(g);function _(t){if(v()(t))return t}var b=i("5d73"),y=i.n(b),k=i("c8bb"),w=i.n(k);function x(t,e){if(w()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t)){var i=[],r=!0,n=!1,o=void 0;try{for(var s,a=y()(t);!(r=(s=a.next()).done);r=!0)if(i.push(s.value),e&&i.length===e)break}catch(c){n=!0,o=c}finally{try{r||null==a["return"]||a["return"]()}finally{if(n)throw o}}return i}}function L(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function S(t,e){return _(t)||x(t,e)||L()}i("ffc1"),i("c5f6");var E=i("a49b"),N={data:function(){return{oncli:"",img_list:[],drawer:!1,length:1,getimg:this.$getimg,checked:!1,sku_img_index:"",attrs:[],dynamicTags:[],inputVisible:!1,inputValue:"",edit_data:{},upfile_url:E["a"]+"/admin/upload/img",upfile_head:{token:localStorage.getItem("token")},get_img:Function,imageUrl:[],img_ids:[]}},components:{Pic:d["default"]},props:{sub:Number,rdata:Object,del:Number},mounted:function(){console.log("data:",this.tableData)},watch:{sub:function(){console.log("传递规格-最终参数");var t={};t["list"]=this.tableList,this.checked?t["sku_img_id"]=this.img_ids:t["sku_img_id"]=[],this.$emit("pro_sku",t)},del:function(){console.log("sku-clear"),this.attrs=[]},rdata:function(t){this.edit_data=t,this.edit_old(t)}},filters:{getName:function(t,e){if(t){var i=parseInt((e-1)/t["rowspan"]),r=t["specLen"]||1,n=i%r;return t["spec"]&&t["spec"][n]&&t["spec"][n]["cName"]}}},computed:{tableData:function(){var t=this.attrs,e=t.length;if(0!=e){for(var i=[],r=0;r<e;r++){var n={};n["pName"]=t[r]["pName"],n["spec"]=[],n["price"]={},n["stock_num"]={};for(var o=t[r]["spec"].length,s=0,a=0;a<o;a++){var c={},l=t[r]["spec"][a]["cName"];l&&(++s,c["cName"]=l,n["spec"].push(c))}n["specLen"]=s,i.push(n)}for(var u=0,f=i.length;u<f;u++){for(var d=1,h=u+1;h<f;h++){var p=i[h]["specLen"]||1;d*=p}i[u]["rowspan"]=d}return i}},rows:function(){if(this.tableData){for(var t=1,e=this.tableData,i=e.length,r=0;r<i;r++){var n=e[r]["specLen"]||1;t*=n}return 1==t?e[0]["spec"].length:t}},tableList:function(){if(this.tableData){for(var t=this.rows,e=[],i=this.tableData,r=0;r<t;r++){for(var n={},o=0;o<i.length;o++){var s=i[o]["pName"],a=i[o]["rowspan"],c=i[o]["specLen"];if(c){var l=i[o]["spec"],u=parseInt(r/a)%c;n[s]=l[u]["cName"]}}if(n["price"]="",n["stock_num"]="",this.edit_data.list){var f=this.edit_data.list;f[r]&&(n["price"]=f[r]["price"],n["stock_num"]=f[r]["stock_num"])}e.push(n)}return e}}},methods:{delA:function(t){this.img_list.splice(t,1)},get_delivery:function(){var t=this;this.http.get("delivery /admin/get_delivery").then((function(e){t.delivery=e.data}))},choose_pic:function(t){this.drawer=!0,this.xb=t,this.get_img=this.setlist},setlist:function(t){console.log("执行setlist",t),console.log(this.xb),this.drawer=!1,this.$set(this.attrs[0].spec[this.xb],"pic",t[0].url),this.img_ids[this.xb]=t[0].id,console.log("spec",this.attrs[0].spec)},sku_img_idfun:function(t){this.sku_img_index=t,this.imageUrl.splice(t,1,""),this.img_ids.splice(t,1,0)},handleAvatarSuccess:function(t,e){var i=this.sku_img_index;console.log("sku_index",i);var r=URL.createObjectURL(e.raw),n=t.id;this.imageUrl.splice(i,1,r),this.img_ids.splice(i,1,n)},edit_old:function(t){console.log("tree:",t.tree[0]);for(var e=0,i=Object.entries(t.tree);e<i.length;e++){for(var r=S(i[e],2),n=r[0],o=r[1],s=[],a=0,c=Object.entries(o.v);a<c.length;a++){var l=S(c[a],2),u=l[0],f=l[1];s[u]={},s[u]["cName"]=f.name,0==n&&(f.img_id?(s[u]["pic"]=f.imgUrl,this.imageUrl.splice(u,1,f.imgUrl),this.img_ids.splice(u,1,f.img_id),this.checked=!0):this.checked=!1)}var d={pName:o.k,rowspan:1,spec:s};if(console.log("sku_img",s),this.attrs.length>=3)return;this.attrs.push(d)}},addItem:function(){var t={pName:"",rowspan:1,spec:[{cName:""}]};this.attrs.length>=3||this.attrs.push(t)},toDelete:function(t){this.img_list=[],this.attrs.splice(t,1)},add_canshu:function(t){this.attrs[t].spec.push({cName:""})},del_canshu:function(t,e){this.attrs[t].spec.splice(e,1)},handleClose:function(t){this.dynamicTags.splice(this.dynamicTags.indexOf(t),1)}}},j=N,C=(i("9708"),i("2877")),O=Object(C["a"])(j,p,m,!1,null,null,null),T=O.exports,$={name:"Pro",props:["eid"],data:function(){return{video_id:0,video_data:"",fullscreenLoading:!1,is_cg:0,is_edit:!1,sub:0,loading:!1,dialogVisible:!1,caiji_url:"",length:6,length_video:1,getimg:this.$getimg,show_sku:0,sku_sub:0,sku_comfirm:0,rdata:{},myConfig:{autoHeightEnabled:!1,initialFrameHeight:500,initialFrameWidth:"60%",serverUrl:"/index.php/index/admin/ue_uploads",UEDITOR_HOME_URL:this.$ue+"/static/UEditor/",toolbars:[["justifyleft","justifycenter","justifyright","justifyjustify","bold","forecolor","fontsize","source","insertimage"]]},category:[],forms:{goods_name:"",category_id:"",people:"",shipping_fee:"",market_price:"",price:"",vip_price:"",stock:"",max_buy:"",img_id:"",banner_imgs:[],description:"",content:"",sales:"",style:0,delivery_id:"",guige:0,video_id:0},upfile_url:E["a"]+"img_category/admin/upload/img",upfile_head:{token:localStorage.getItem("token")},upfile_list:[],upfile_list_sku:[],upfile_banner_list:[],sku_table:!1,sub_btn:!0,cate_id:"0",delivery:"",drawer:!1,drawer_video:!1,img_list:[],is_caiji:0}},components:{VueUeditorWrap:f.a,Pic:d["default"],skuv:T,Video:h["default"]},mounted:function(){this.getCategory(),this.get_delivery(),this.eid>0&&this.editProduct(this.eid),console.log(this.img_list)},methods:{back:function(){this.$emit("back")},caiji:function(){this.dialogVisible=!0},sub_caiji:function(){var t=this;this.fullscreenLoading=!0,this.is_caiji=1,this.http.post("product/copy/get_info",{url:this.caiji_url}).then((function(e){t.$message({message:"采集成功",type:"success"}),t.fullscreenLoading=!1,t.caiji_url="",t.dialogVisible=!1,t.forms.goods_name=e.data.goods_name;var i=[];for(var r in e.data.banner_imgs_url){var n=e.data.banner_imgs_url[r];i.length<6&&i.push(n)}t.img_list=i}))},handleClose:function(){this.dialogVisible=!1},get_img:function(t){for(var e in this.drawer=!1,t){var i=t[e];this.img_list.push(i),this.forms.banner_imgs.push(i.id+"")}this.length=6-this.img_list.length,console.log("get_img_end:",t,this.img_list)},get_video:function(t){this.drawer_video=!1;var e={id:t[0].id,description:t[0].description,url:t[0].url};this.video_data=e,this.forms.video_id=t[0].id,this.video_id=t[0].id,console.log("get_img_end:",t),console.log(this.video_id)},del_img:function(t){this.img_list.splice(t,1),this.forms.banner_imgs.splice(t,1)},get_delivery:function(){var t=this;this.http.get("delivery/admin/get_delivery").then((function(e){t.delivery=e.data}))},choose_pic:function(){this.length=6-this.img_list.length,this.drawer=!0},choose_video:function(){this.length=1-this.img_list.length,this.drawer_video=!0},on_add:function(){console.log("提交on_add"),this.is_edit=!1,this.sub++},on_xg:function(){console.log("修改on_xg"),this.is_edit=!0,this.sub++},pro_sku:function(t){console.log("pro_sku:",t,this.show_sku),1==this.show_sku?(console.log("ssku:",this.forms["sku"]),this.forms["sku"]=t["list"],this.forms["sku_img_ids"]=t["sku_img_id"]):(console.log("end--sku:",this.forms["sku"]),this.forms["sku"]=[],this.forms["sku_img_ids"]=[]),this.is_edit?this.onEdit():this.onSubmit()},upload_img:function(t){return this.http.post_show("index/upload/down_img",{url:t}).then((function(t){return t}))},get_banner_id:function(){var t=c(regeneratorRuntime.mark((function t(){var e,i,r,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log(this.img_list),e=this,i=[],t.t0=regeneratorRuntime.keys(this.img_list);case 4:if((t.t1=t.t0()).done){t.next=13;break}return r=t.t1.value,n=e.img_list[r],t.next=9,e.upload_img(n);case 9:o=t.sent,i.push(o),t.next=4;break;case 13:return t.abrupt("return",i);case 14:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onSubmit:function(){var t=c(regeneratorRuntime.mark((function t(){var e,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this,1!=e.is_caiji){t.next=5;break}return t.next=4,e.get_banner_id();case 4:e.forms.banner_imgs=t.sent;case 5:console.log("sku:",this.forms["sku"]),this.forms["sku"][0]&&(this.forms["price"]=this.forms["sku"][0]["price"],this.forms["stock"]=this.forms["sku"][0]["stock_num"]),this.forms.video_id=this.video_id,this.http.post_show("product/admin/add_product",e.forms).then((function(t){var r=t.status.toString();2==r.charAt(0)?(i.$message({showClose:!0,message:"新增成功",type:"success"}),i._clsForm(),i.upfile_list=[],i.upfile_list_sku=[],i.upfile_banner_list=[],i.$emit("back")):e.$message({showClose:!0,message:t.data.msg,type:"error"})}));case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),_clsForm:function(){console.log("clear");var t=this;for(var e in t.forms)t.forms[e]="";t.sku_comfirm++,this.video_data={id:"",description:"",url:""}},getCategory:function(){var t=this;this.http.get("category/admin/all_category").then((function(e){t.category=e.data}))},remove:function(t){var e=this.forms.banner_imgs,i=e.split(","),r=String(t.id),n=i.indexOf(r);n>-1&&i.splice(n,1);var o=i.join(",");this.forms.banner_imgs=o},editProduct:function(t){var e=this,i=l["Loading"].service({fullscreen:!0}),r=this;this.http.get("product/get_product?id="+t).then((function(t){for(var i in t.data.banner_imgs_list){var n=t.data.banner_imgs_list[i];r.img_list[i]={},r.img_list[i]["id"]=n.id,r.img_list[i]["url"]=n.url}for(var o in console.log("edit_img_list",r.img_list),console.log("sku",t.data.sku),r.forms)r.forms[o]=t.data[o];console.log("num:",t.data.sku_arr["tree"].length),t.data.sku_arr["tree"].length>0&&(console.log("有sku",t.data.sku_arr["tree"]),r.show_sku=1,r.rdata=t.data.sku_arr),r.forms.banner_imgs=t.data.banner_imgs,e.forms.video_id=t.data.video_id,r.forms.goods_id=t.data.goods_id,r.forms.delivery_id=t.data.delivery_id,r.sub_btn=!1,t.data.video&&t.data.video.description?r.video_data={url:t.data.video.url,id:t.data.video_id,description:t.data.video.description}:r.video_data={url:t.data.video.url,id:t.data.video_id}})),i.close()},onEdit:function(){var t=this,e=this;console.log(this.forms),this.http.post_show("product/admin/edit_product",e.forms).then((function(){t.$message({showClose:!0,message:"修改成功",type:"success"}),e.rest()}))},rest:function(){this.$emit("emit_tangou")}}},P=$,I=(i("be82"),Object(C["a"])(P,r,n,!1,null,null,null));e["a"]=I.exports},"795b":function(t,e,i){t.exports=i("696e")},"7cd6":function(t,e,i){var r=i("40c3"),n=i("5168")("iterator"),o=i("481b");t.exports=i("584a").getIteratorMethod=function(t){if(void 0!=t)return t[n]||t["@@iterator"]||o[r(t)]}},"7d7b":function(t,e,i){var r=i("e4ae"),n=i("7cd6");t.exports=i("584a").getIterator=function(t){var e=n(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},"8b97":function(t,e,i){var r=i("d3f4"),n=i("cb7c"),o=function(t,e){if(n(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=i("9b43")(Function.call,i("11e9").f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(n){e=!0}return function(t,i){return o(t,i),e?t.__proto__=i:r(t,i),t}}({},!1):void 0),check:o}},9093:function(t,e,i){var r=i("ce10"),n=i("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,n)}},"957f":function(t,e,i){},"95d5":function(t,e,i){var r=i("40c3"),n=i("5168")("iterator"),o=i("481b");t.exports=i("584a").isIterable=function(t){var e=Object(t);return void 0!==e[n]||"@@iterator"in e||o.hasOwnProperty(r(e))}},"96cf":function(t,e,i){var r=function(t){"use strict";var e,i=Object.prototype,r=i.hasOwnProperty,n="function"===typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",s=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(t,e,i,r){var n=e&&e.prototype instanceof m?e:m,o=Object.create(n.prototype),s=new j(r||[]);return o._invoke=L(t,i,s),o}function l(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(r){return{type:"throw",arg:r}}}t.wrap=c;var u="suspendedStart",f="suspendedYield",d="executing",h="completed",p={};function m(){}function g(){}function v(){}var _={};_[o]=function(){return this};var b=Object.getPrototypeOf,y=b&&b(b(C([])));y&&y!==i&&r.call(y,o)&&(_=y);var k=v.prototype=m.prototype=Object.create(_);function w(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function x(t){function e(i,n,o,s){var a=l(t[i],t,n);if("throw"!==a.type){var c=a.arg,u=c.value;return u&&"object"===typeof u&&r.call(u,"__await")?Promise.resolve(u.__await).then((function(t){e("next",t,o,s)}),(function(t){e("throw",t,o,s)})):Promise.resolve(u).then((function(t){c.value=t,o(c)}),(function(t){return e("throw",t,o,s)}))}s(a.arg)}var i;function n(t,r){function n(){return new Promise((function(i,n){e(t,r,i,n)}))}return i=i?i.then(n,n):n()}this._invoke=n}function L(t,e,i){var r=u;return function(n,o){if(r===d)throw new Error("Generator is already running");if(r===h){if("throw"===n)throw o;return O()}i.method=n,i.arg=o;while(1){var s=i.delegate;if(s){var a=S(s,i);if(a){if(a===p)continue;return a}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===u)throw r=h,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=d;var c=l(t,e,i);if("normal"===c.type){if(r=i.done?h:f,c.arg===p)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=h,i.method="throw",i.arg=c.arg)}}}function S(t,i){var r=t.iterator[i.method];if(r===e){if(i.delegate=null,"throw"===i.method){if(t.iterator["return"]&&(i.method="return",i.arg=e,S(t,i),"throw"===i.method))return p;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=l(r,t.iterator,i.arg);if("throw"===n.type)return i.method="throw",i.arg=n.arg,i.delegate=null,p;var o=n.arg;return o?o.done?(i[t.resultName]=o.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,p):o:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,p)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function C(t){if(t){var i=t[o];if(i)return i.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var n=-1,s=function i(){while(++n<t.length)if(r.call(t,n))return i.value=t[n],i.done=!1,i;return i.value=e,i.done=!0,i};return s.next=s}}return{next:O}}function O(){return{value:e,done:!0}}return g.prototype=k.constructor=v,v.constructor=g,v[a]=g.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(k),t},t.awrap=function(t){return{__await:t}},w(x.prototype),x.prototype[s]=function(){return this},t.AsyncIterator=x,t.async=function(e,i,r,n){var o=new x(c(e,i,r,n));return t.isGeneratorFunction(i)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},w(k),k[a]="Generator",k[o]=function(){return this},k.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){while(e.length){var r=e.pop();if(r in t)return i.value=r,i.done=!1,i}return i.done=!0,i}},t.values=C,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function n(r,n){return a.type="throw",a.arg=t,i.next=r,n&&(i.method="next",i.arg=e),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),l=r.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),N(i),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var n=r.arg;N(i)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,r){return this.delegate={iterator:C(t),resultName:i,nextLoc:r},"next"===this.method&&(this.arg=e),p}},t}(t.exports);try{regeneratorRuntime=r}catch(n){Function("r","regeneratorRuntime = r")(r)}},9708:function(t,e,i){"use strict";var r=i("ed19"),n=i.n(r);n.a},a22a:function(t,e,i){var r=i("d864"),n=i("b0dc"),o=i("3702"),s=i("e4ae"),a=i("b447"),c=i("7cd6"),l={},u={};e=t.exports=function(t,e,i,f,d){var h,p,m,g,v=d?function(){return t}:c(t),_=r(i,f,e?2:1),b=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(h=a(t.length);h>b;b++)if(g=e?_(s(p=t[b])[0],p[1]):_(t[b]),g===l||g===u)return g}else for(m=v.call(t);!(p=m.next()).done;)if(g=n(m,_,p.value,e),g===l||g===u)return g};e.BREAK=l,e.RETURN=u},a745:function(t,e,i){t.exports=i("f410")},aa77:function(t,e,i){var r=i("5ca1"),n=i("be13"),o=i("79e5"),s=i("fdef"),a="["+s+"]",c="​",l=RegExp("^"+a+a+"*"),u=RegExp(a+a+"*$"),f=function(t,e,i){var n={},a=o((function(){return!!s[t]()||c[t]()!=c})),l=n[t]=a?e(d):s[t];i&&(n[i]=l),r(r.P+r.F*a,"String",n)},d=f.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=f},aae3:function(t,e,i){var r=i("d3f4"),n=i("2d95"),o=i("2b4c")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==n(t))}},aba2:function(t,e,i){var r=i("e53d"),n=i("4178").set,o=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,c="process"==i("6b4c")(s);t.exports=function(){var t,e,i,l=function(){var r,n;c&&(r=s.domain)&&r.exit();while(t){n=t.fn,t=t.next;try{n()}catch(o){throw t?i():e=void 0,o}}e=void 0,r&&r.enter()};if(c)i=function(){s.nextTick(l)};else if(!o||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var u=a.resolve(void 0);i=function(){u.then(l)}}else i=function(){n.call(r,l)};else{var f=!0,d=document.createTextNode("");new o(l).observe(d,{characterData:!0}),i=function(){d.data=f=!f}}return function(r){var n={fn:r,next:void 0};e&&(e.next=n),t||(t=n,i()),e=n}}},ac6a:function(t,e,i){for(var r=i("cadf"),n=i("0d58"),o=i("2aba"),s=i("7726"),a=i("32e9"),c=i("84f2"),l=i("2b4c"),u=l("iterator"),f=l("toStringTag"),d=c.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=n(h),m=0;m<p.length;m++){var g,v=p[m],_=h[v],b=s[v],y=b&&b.prototype;if(y&&(y[u]||a(y,u,d),y[f]||a(y,f,v),c[v]=d,_))for(g in r)y[g]||o(y,g,r[g],!0)}},b0c5:function(t,e,i){"use strict";var r=i("520a");i("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},b0dc:function(t,e,i){var r=i("e4ae");t.exports=function(t,e,i,n){try{return n?e(r(i)[0],i[1]):e(i)}catch(s){var o=t["return"];throw void 0!==o&&r(o.call(t)),s}}},bc13:function(t,e,i){var r=i("e53d"),n=r.navigator;t.exports=n&&n.userAgent||""},be82:function(t,e,i){"use strict";var r=i("957f"),n=i.n(r);n.a},c5f6:function(t,e,i){"use strict";var r=i("7726"),n=i("69a8"),o=i("2d95"),s=i("5dbc"),a=i("6a99"),c=i("79e5"),l=i("9093").f,u=i("11e9").f,f=i("86cc").f,d=i("aa77").trim,h="Number",p=r[h],m=p,g=p.prototype,v=o(i("2aeb")(g))==h,_="trim"in String.prototype,b=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){e=_?e.trim():d(e,3);var i,r,n,o=e.charCodeAt(0);if(43===o||45===o){if(i=e.charCodeAt(2),88===i||120===i)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+e}for(var s,c=e.slice(2),l=0,u=c.length;l<u;l++)if(s=c.charCodeAt(l),s<48||s>n)return NaN;return parseInt(c,r)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof p&&(v?c((function(){g.valueOf.call(i)})):o(i)!=h)?s(new m(b(e)),i,p):b(e)};for(var y,k=i("9e1e")?l(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;k.length>w;w++)n(m,y=k[w])&&!n(p,y)&&f(p,y,u(m,y));p.prototype=g,g.constructor=p,i("2aba")(r,h,p)}},c8bb:function(t,e,i){t.exports=i("54a1")},cd78:function(t,e,i){var r=i("e4ae"),n=i("f772"),o=i("656e");t.exports=function(t,e){if(r(t),n(e)&&e.constructor===t)return e;var i=o.f(t),s=i.resolve;return s(e),i.promise}},ed19:function(t,e,i){},f201:function(t,e,i){var r=i("e4ae"),n=i("79aa"),o=i("5168")("species");t.exports=function(t,e){var i,s=r(t).constructor;return void 0===s||void 0==(i=r(s)[o])?e:n(i)}},f410:function(t,e,i){i("1af6"),t.exports=i("584a").Array.isArray},f89f:function(t,e,i){},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},ffc1:function(t,e,i){var r=i("5ca1"),n=i("504c")(!0);r(r.S,"Object",{entries:function(t){return n(t)}})}}]);
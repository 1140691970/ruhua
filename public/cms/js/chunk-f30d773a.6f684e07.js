(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f30d773a"],{"0aed":function(t,e,r){"use strict";r("aaba");var i=r("bf16"),n=r("86d4"),s=r("238a"),o=r("f6b4"),a=r("cb3d"),c=r("8714"),l=a("species"),u=!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();t.exports=function(t,e,r){var d=a(t),h=!s((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),p=h?!s((function(){var e=!1,r=/a/;return r.exec=function(){return e=!0,null},"split"===t&&(r.constructor={},r.constructor[l]=function(){return r}),r[d](""),!e})):void 0;if(!h||!p||"replace"===t&&!u||"split"===t&&!f){var m=/./[d],g=r(o,d,""[t],(function(t,e,r,i,n){return e.exec===c?h&&!n?{done:!0,value:m.call(e,r,i)}:{done:!0,value:t.call(r,e,i)}:{done:!1}})),_=g[0],v=g[1];i(String.prototype,t,_),n(RegExp.prototype,d,2==e?function(t,e){return v.call(t,this,e)}:function(t){return v.call(t,this)})}}},"163d":function(t,e,r){"use strict";var i=r("e7ad"),n=r("e042"),s=r("75c4"),o=r("1e5b"),a=r("94b3"),c=r("238a"),l=r("2ea2").f,u=r("dcb7").f,f=r("064e").f,d=r("777a").trim,h="Number",p=i[h],m=p,g=p.prototype,_=s(r("e005")(g))==h,v="trim"in String.prototype,b=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){e=v?e.trim():d(e,3);var r,i,n,s=e.charCodeAt(0);if(43===s||45===s){if(r=e.charCodeAt(2),88===r||120===r)return NaN}else if(48===s){switch(e.charCodeAt(1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+e}for(var o,c=e.slice(2),l=0,u=c.length;l<u;l++)if(o=c.charCodeAt(l),o<48||o>n)return NaN;return parseInt(c,i)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof p&&(_?c((function(){g.valueOf.call(r)})):s(r)!=h)?o(new m(b(e)),r,p):b(e)};for(var y,k=r("149f")?l(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;k.length>w;w++)n(m,y=k[w])&&!n(p,y)&&f(p,y,u(m,y));p.prototype=g,g.constructor=p,r("bf16")(i,h,p)}},1736:function(t,e,r){var i=r("e46b"),n=r("4c9f")(!0);i(i.S,"Object",{entries:function(t){return n(t)}})},"1e5b":function(t,e,r){var i=r("fb68"),n=r("859b").set;t.exports=function(t,e,r){var s,o=e.constructor;return o!==r&&"function"==typeof o&&(s=o.prototype)!==r.prototype&&i(s)&&n&&n(t,s),t}},"2ea2":function(t,e,r){var i=r("c2f7"),n=r("ceac").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,n)}},"2fd4":function(t,e,r){var i=r("fb68"),n=r("75c4"),s=r("cb3d")("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==n(t))}},"32d5":function(t,e,r){},"419a":function(t,e,r){var i=function(t){"use strict";var e,r=Object.prototype,i=r.hasOwnProperty,n="function"===typeof Symbol?Symbol:{},s=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(t,e,r,i){var n=e&&e.prototype instanceof m?e:m,s=Object.create(n.prototype),o=new C(i||[]);return s._invoke=L(t,r,o),s}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(i){return{type:"throw",arg:i}}}t.wrap=c;var u="suspendedStart",f="suspendedYield",d="executing",h="completed",p={};function m(){}function g(){}function _(){}var v={};v[s]=function(){return this};var b=Object.getPrototypeOf,y=b&&b(b(j([])));y&&y!==r&&i.call(y,s)&&(v=y);var k=_.prototype=m.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function x(t,e){function r(n,s,o,a){var c=l(t[n],t,s);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"===typeof f&&i.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,o,a)}),(function(t){r("throw",t,o,a)})):e.resolve(f).then((function(t){u.value=t,o(u)}),(function(t){return r("throw",t,o,a)}))}a(c.arg)}var n;function s(t,i){function s(){return new e((function(e,n){r(t,i,e,n)}))}return n=n?n.then(s,s):s()}this._invoke=s}function L(t,e,r){var i=u;return function(n,s){if(i===d)throw new Error("Generator is already running");if(i===h){if("throw"===n)throw s;return O()}r.method=n,r.arg=s;while(1){var o=r.delegate;if(o){var a=S(o,r);if(a){if(a===p)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===u)throw i=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=d;var c=l(t,e,r);if("normal"===c.type){if(i=r.done?h:f,c.arg===p)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=h,r.method="throw",r.arg=c.arg)}}}function S(t,r){var i=t.iterator[r.method];if(i===e){if(r.delegate=null,"throw"===r.method){if(t.iterator["return"]&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method))return p;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=l(i,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,p;var s=n.arg;return s?s.done?(r[t.resultName]=s.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,p):s:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var r=t[s];if(r)return r.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function r(){while(++n<t.length)if(i.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}return{next:O}}function O(){return{value:e,done:!0}}return g.prototype=k.constructor=_,_.constructor=g,_[a]=g.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(k),t},t.awrap=function(t){return{__await:t}},w(x.prototype),x.prototype[o]=function(){return this},t.AsyncIterator=x,t.async=function(e,r,i,n,s){void 0===s&&(s=Promise);var o=new x(c(e,r,i,n),s);return t.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},w(k),k[a]="Generator",k[s]=function(){return this},k.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){while(e.length){var i=e.pop();if(i in t)return r.value=i,r.done=!1,r}return r.done=!0,r}},t.values=j,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(i,n){return a.type="throw",a.arg=t,r.next=i,n&&(r.method="next",r.arg=e),!!n}for(var s=this.tryEntries.length-1;s>=0;--s){var o=this.tryEntries[s],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var s=n;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=t,o.arg=e,s?(this.method="next",this.next=s.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var i=r.completion;if("throw"===i.type){var n=i.arg;N(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,i){return this.delegate={iterator:j(t),resultName:r,nextLoc:i},"next"===this.method&&(this.arg=e),p}},t}(t.exports);try{regeneratorRuntime=i}catch(n){Function("r","regeneratorRuntime = r")(i)}},"4c9f":function(t,e,r){var i=r("149f"),n=r("80a9"),s=r("09b9"),o=r("4f18").f;t.exports=function(t){return function(e){var r,a=s(e),c=n(a),l=c.length,u=0,f=[];while(l>u)r=c[u++],i&&!o.call(a,r)||f.push(t?[r,a[r]]:a[r]);return f}}},"4fd7":function(t,e,r){"use strict";r("9a0e")("sub",(function(t){return function(){return t(this,"sub","","")}}))},"6d57":function(t,e,r){for(var i=r("e44b"),n=r("80a9"),s=r("bf16"),o=r("e7ad"),a=r("86d4"),c=r("da6d"),l=r("cb3d"),u=l("iterator"),f=l("toStringTag"),d=c.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=n(h),m=0;m<p.length;m++){var g,_=p[m],v=h[_],b=o[_],y=b&&b.prototype;if(y&&(y[u]||a(y,u,d),y[f]||a(y,f,_),c[_]=d,v))for(g in i)y[g]||s(y,g,i[g],!0)}},"70f9":function(t,e,r){},7108:function(t,e,r){"use strict";var i=r("7e23"),n=RegExp.prototype.exec;t.exports=function(t,e){var r=t.exec;if("function"===typeof r){var s=r.call(t,e);if("object"!==typeof s)throw new TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return n.call(t,e)}},7370:function(t,e,r){"use strict";var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"release"}},[r("transition",{attrs:{appear:"","appear-active-class":"animated fadeInLeft"}},[r("div",{staticClass:"release"},[r("div",{staticClass:"order-back",staticStyle:{"margin-bottom":"20px"}},[r("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.back}},[t._v("返回")]),r("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.caiji}},[t._v("采集商品")])],1),r("el-form",{ref:"forms",attrs:{model:t.forms,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"商品名称"}},[r("el-input",{staticStyle:{width:"60%"},model:{value:t.forms.goods_name,callback:function(e){t.$set(t.forms,"goods_name",e)},expression:"forms.goods_name"}})],1),r("el-form-item",{attrs:{label:"商品类型"}},[r("el-radio",{attrs:{label:0,border:"",size:"medium"},model:{value:t.forms.style,callback:function(e){t.$set(t.forms,"style",e)},expression:"forms.style"}},[t._v("实物商品(物流)")]),r("el-radio",{attrs:{label:1,border:"",size:"medium"},model:{value:t.forms.style,callback:function(e){t.$set(t.forms,"style",e)},expression:"forms.style"}},[t._v("虚拟商品(验证码)")])],1),r("el-form-item",{attrs:{label:"商品分类"}},[r("el-select",{attrs:{placeholder:"请选择商品分类"},model:{value:t.forms.category_id,callback:function(e){t.$set(t.forms,"category_id",e)},expression:"forms.category_id"}},[t._l(t.category,(function(e){return[1==e.level?r("el-option",{key:e.category_id,attrs:{value:e.category_id,label:e.category_name}}):t._e(),2==e.level?r("el-option",{key:e.category_id,attrs:{value:e.category_id,label:"--"+e.category_name}}):t._e()]}))],2)],1),r("el-form-item",{attrs:{label:"商品促销语"}},[r("el-input",{staticStyle:{width:"60%"},model:{value:t.forms.description,callback:function(e){t.$set(t.forms,"description",e)},expression:"forms.description"}})],1),r("el-row",[r("el-col",{attrs:{span:4.8}},[r("el-form-item",{attrs:{label:"售价"}},[r("el-input",{staticStyle:{width:"100px"},model:{value:t.forms.price,callback:function(e){t.$set(t.forms,"price",e)},expression:"forms.price"}}),r("span",[t._v("元")])],1)],1),r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{label:"市场价"}},[r("el-input",{staticStyle:{width:"100px"},model:{value:t.forms.market_price,callback:function(e){t.$set(t.forms,"market_price",e)},expression:"forms.market_price"}}),r("span",[t._v("元")])],1)],1),r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{label:"VIP优惠金额"}},[r("el-input",{staticStyle:{width:"100px"},model:{value:t.forms.vip_price,callback:function(e){t.$set(t.forms,"vip_price",e)},expression:"forms.vip_price"}}),r("span",[t._v("元")])],1)],1),r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{label:"运费"}},[r("el-select",{attrs:{placeholder:"请选择运费模板"},model:{value:t.forms.delivery_id,callback:function(e){t.$set(t.forms,"delivery_id",e)},expression:"forms.delivery_id"}},t._l(t.delivery,(function(t){return r("el-option",{key:t.id,attrs:{value:t.id,label:t.name}})})),1)],1)],1)],1),r("el-row",[r("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"商品大图"}},[t.img_list.length<6?r("el-button",{staticStyle:{"margin-bottom":"20px"},attrs:{size:"small",type:"primary"},on:{click:t.choose_pic}},[t._v("选择图片")]):t._e(),[t.img_list.length>0?[r("div",{staticStyle:{display:"flex",width:"700px","flex-wrap":"wrap"}},[t._l(t.img_list,(function(e,i){return[t.img_list.length>0?r("div",{staticClass:"picA"},[1==t.is_caiji?[r("img",{staticClass:"img",attrs:{src:e}})]:[r("img",{staticClass:"img",attrs:{src:t.getimg+e.url}})],r("i",{staticClass:"el-icon-circle-close",on:{click:function(e){return t.del_img(i)}}})],2):t._e()]}))],2)]:t._e()]],2)],1),r("el-form-item",{attrs:{label:"规格类型"}},[r("el-radio",{attrs:{label:0,border:"",size:"medium",checked:t.show_sku?"":"checked"},model:{value:t.show_sku,callback:function(e){t.show_sku=e},expression:"show_sku"}},[t._v("无")]),r("el-radio",{attrs:{label:1,border:"",size:"medium",checked:t.show_sku?"checked":""},model:{value:t.show_sku,callback:function(e){t.show_sku=e},expression:"show_sku"}},[t._v("有")])],1),0==t.show_sku?r("el-row",[r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{label:"基础销量"}},[r("el-input",{staticStyle:{width:"100px"},model:{value:t.forms.sales,callback:function(e){t.$set(t.forms,"sales",e)},expression:"forms.sales"}}),r("span",[t._v("件")])],1)],1),r("el-col",{attrs:{span:4}},[r("el-form-item",{attrs:{label:"总库存"}},[r("el-input",{staticStyle:{width:"100px"},model:{value:t.forms.stock,callback:function(e){t.$set(t.forms,"stock",e)},expression:"forms.stock"}}),r("span",[t._v("件")])],1)],1)],1):t._e(),r("el-form-item",[r("skuv",{directives:[{name:"show",rawName:"v-show",value:t.show_sku,expression:"show_sku"}],attrs:{sub:t.sub,del:t.sku_comfirm,rdata:t.rdata},on:{pro_sku:t.pro_sku}})],1),r("el-form-item",{attrs:{label:"商品详情",prop:"desc"}},[r("vue-ueditor-wrap",{attrs:{config:t.myConfig},model:{value:t.forms.content,callback:function(e){t.$set(t.forms,"content",e)},expression:"forms.content"}})],1),r("el-form-item",[t.sub_btn?r("el-button",{attrs:{type:"primary"},on:{click:t.on_add}},[t._v("立即创建")]):t._e(),t.sub_btn?t._e():r("el-button",{attrs:{type:"success"},on:{click:t.on_xg}},[t._v("提交修改")]),r("el-button",{on:{click:t.rest}},[t._v("取消")])],1)],1)],1)]),r("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{title:"采集商品",visible:t.dialogVisible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[r("span",[t._v("京东或淘宝")]),r("el-input",{attrs:{placeholder:"请输入采集地址"},model:{value:t.caiji_url,callback:function(e){t.caiji_url=e},expression:"caiji_url"}}),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),r("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:t.sub_caiji}},[t._v("确 定")])],1)],1),r("Pic",{ref:"child",attrs:{drawer:t.drawer,father_fun:t.get_img,length:t.length,iscg:t.is_cg}})],1)},n=[];r("9a33"),r("2b45"),r("6d57"),r("419a");function s(t,e,r,i,n,s,o){try{var a=t[s](o),c=a.value}catch(l){return void r(l)}a.done?e(c):Promise.resolve(c).then(i,n)}function o(t){return function(){var e=this,r=arguments;return new Promise((function(i,n){var o=t.apply(e,r);function a(t){s(o,i,n,a,c,"next",t)}function c(t){s(o,i,n,a,c,"throw",t)}a(void 0)}))}}r("4fd7");var a=r("2ca7"),c=r("f24a"),l=r.n(c),u=r("ab56"),f=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"sku_tag"}},[r("div",{staticClass:"form-group"},[r("div",{staticClass:"form-h"},[t._v("商品规格")]),t._l(t.attrs,(function(e,i){return r("div",{key:i,staticClass:"form-item"},[r("div",{staticClass:"form-title"},[r("el-input",{staticClass:"sku-name",attrs:{placeholder:"规格名"},model:{value:e.pName,callback:function(r){t.$set(e,"pName",r)},expression:"attr.pName"}}),0==i?r("el-checkbox",{model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("添加规格图片")]):t._e(),r("span",{staticClass:"delete",on:{click:function(e){return t.toDelete(i)}}},[t._v("×")])],1),r("ul",{staticClass:"form-list"},[t._l(e.spec,(function(e,n){return r("li",{key:n},[r("div",{staticClass:"spgg_r_02_2"},[r("el-input",{model:{value:e.cName,callback:function(r){t.$set(e,"cName",r)},expression:"item.cName"}}),r("div",{staticClass:"in_clo",on:{click:function(e){return t.del_canshu(i,n)}}},[r("i",{staticClass:"el-icon-error",staticStyle:{color:"#cecece"}})])],1),t.checked&&0==i?r("div",[t.checked?r("div",{staticClass:"picA",on:{click:function(e){return t.choose_pic(n)}}},[e.pic?r("img",{attrs:{src:t.getimg+e.pic}}):r("i",{staticClass:"el-icon-plus sku-img"})]):t._e()]):t._e()])})),r("li",[t._v("\n\t\t\t\t\t \n\t\t\t\t\t"),r("button",{staticClass:"btn",attrs:{type:"button",name:""},on:{click:function(e){return t.add_canshu(i)}}},[t._v("添加")])])],2),t.checked&&0==i?r("div",{staticClass:"spgg_r_04"},[t._v("\n\t\t\t\t仅支持为第一组规格设置规格图片，建议尺寸：160*160像素\n\t\t\t")]):t._e()])})),r("div",{staticClass:"form-btn-group"},[r("el-button",{attrs:{size:"mini",disabled:3==t.attrs.length,type:"button",name:""},on:{click:t.addItem}},[t._v("添加规格项目")])],1),r("div",{directives:[{name:"show",rawName:"v-show",value:t.tableData,expression:"tableData"}],staticClass:"form-table"},[r("div",{staticClass:"stock-title"},[t._v("商品库存")]),r("table",{staticClass:"table-sku",attrs:{border:"1px solid #ccc"}},[r("thead",[r("tr",[t._l(t.tableData,(function(e,i){return r("th",{key:i},[t._v(t._s(e["pName"]))])})),r("th",{attrs:{width:"200"}},[t._v("价格")]),r("th",{attrs:{width:"200"}},[t._v("库存")])],2)]),r("tbody",t._l(t.rows,(function(e){return r("tr",{key:e},[t._l(t.tableData,(function(i,n){return(e-1)%i["rowspan"]?t._e():r("td",{key:n,attrs:{rowspan:i["rowspan"]}},[t._v(t._s(t._f("getName")(i,e)))])})),r("td",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.tableList[e-1]["price"],expression:"tableList[row-1]['price']"}],attrs:{placeholder:"单价"},domProps:{value:t.tableList[e-1]["price"]},on:{input:function(r){r.target.composing||t.$set(t.tableList[e-1],"price",r.target.value)}}})]),r("td",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.tableList[e-1]["stock_num"],expression:"tableList[row-1]['stock_num']"}],attrs:{placeholder:"库存"},domProps:{value:t.tableList[e-1]["stock_num"]},on:{input:function(r){r.target.composing||t.$set(t.tableList[e-1],"stock_num",r.target.value)}}})])],2)})),0)])])],2),r("Pic",{attrs:{drawer:t.drawer,father_fun:t.get_img,length:t.length}})],1)},d=[];r("cc57");function h(t){if(Array.isArray(t))return t}function p(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var r=[],i=!0,n=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done);i=!0)if(r.push(o.value),e&&r.length===e)break}catch(c){n=!0,s=c}finally{try{i||null==a["return"]||a["return"]()}finally{if(n)throw s}}return r}}function m(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function g(t,e){return h(t)||p(t,e)||m()}r("1736"),r("163d");var _=r("a49b"),v={data:function(){return{oncli:"",img_list:[],drawer:!1,length:1,getimg:this.$getimg,checked:!1,sku_img_index:"",attrs:[],dynamicTags:[],inputVisible:!1,inputValue:"",edit_data:{},upfile_url:_["a"]+"/admin/upload/img",upfile_head:{token:localStorage.getItem("token")},get_img:Function,imageUrl:[],img_ids:[]}},components:{Pic:u["default"]},props:{sub:Number,rdata:Object,del:Number},mounted:function(){console.log("data:",this.tableData)},watch:{sub:function(){console.log("传递规格-最终参数");var t={};t["list"]=this.tableList,this.checked?t["sku_img_id"]=this.img_ids:t["sku_img_id"]=[],this.$emit("pro_sku",t)},del:function(){console.log("sku-clear"),this.attrs=[]},rdata:function(t){this.edit_data=t,this.edit_old(t)}},filters:{getName:function(t,e){if(t){var r=parseInt((e-1)/t["rowspan"]),i=t["specLen"]||1,n=r%i;return t["spec"]&&t["spec"][n]&&t["spec"][n]["cName"]}}},computed:{tableData:function(){var t=this.attrs,e=t.length;if(0!=e){for(var r=[],i=0;i<e;i++){var n={};n["pName"]=t[i]["pName"],n["spec"]=[],n["price"]={},n["stock_num"]={};for(var s=t[i]["spec"].length,o=0,a=0;a<s;a++){var c={},l=t[i]["spec"][a]["cName"];l&&(++o,c["cName"]=l,n["spec"].push(c))}n["specLen"]=o,r.push(n)}for(var u=0,f=r.length;u<f;u++){for(var d=1,h=u+1;h<f;h++){var p=r[h]["specLen"]||1;d*=p}r[u]["rowspan"]=d}return r}},rows:function(){if(this.tableData){for(var t=1,e=this.tableData,r=e.length,i=0;i<r;i++){var n=e[i]["specLen"]||1;t*=n}return 1==t?e[0]["spec"].length:t}},tableList:function(){if(this.tableData){for(var t=this.rows,e=[],r=this.tableData,i=0;i<t;i++){for(var n={},s=0;s<r.length;s++){var o=r[s]["pName"],a=r[s]["rowspan"],c=r[s]["specLen"];if(c){var l=r[s]["spec"],u=parseInt(i/a)%c;n[o]=l[u]["cName"]}}if(n["price"]="",n["stock_num"]="",this.edit_data.list){var f=this.edit_data.list;f[i]&&(n["price"]=f[i]["price"],n["stock_num"]=f[i]["stock_num"])}e.push(n)}return e}}},methods:{delA:function(t){this.img_list.splice(t,1)},get_delivery:function(){var t=this;this.http.get("delivery /admin/get_delivery").then((function(e){t.delivery=e.data}))},choose_pic:function(t){this.drawer=!0,this.xb=t,this.get_img=this.setlist},setlist:function(t){console.log("执行setlist",t),console.log(this.xb),this.drawer=!1,this.$set(this.attrs[0].spec[this.xb],"pic",t[0].url),this.img_ids[this.xb]=t[0].id,console.log("spec",this.attrs[0].spec)},sku_img_idfun:function(t){this.sku_img_index=t,this.imageUrl.splice(t,1,""),this.img_ids.splice(t,1,0)},handleAvatarSuccess:function(t,e){var r=this.sku_img_index;console.log("sku_index",r);var i=URL.createObjectURL(e.raw),n=t.id;this.imageUrl.splice(r,1,i),this.img_ids.splice(r,1,n)},edit_old:function(t){console.log("tree:",t.tree[0]);for(var e=0,r=Object.entries(t.tree);e<r.length;e++){for(var i=g(r[e],2),n=i[0],s=i[1],o=[],a=0,c=Object.entries(s.v);a<c.length;a++){var l=g(c[a],2),u=l[0],f=l[1];o[u]={},o[u]["cName"]=f.name,0==n&&(f.img_id?(o[u]["pic"]=f.imgUrl,this.imageUrl.splice(u,1,f.imgUrl),this.img_ids.splice(u,1,f.img_id),this.checked=!0):this.checked=!1)}var d={pName:s.k,rowspan:1,spec:o};if(console.log("sku_img",o),this.attrs.length>=3)return;this.attrs.push(d)}},addItem:function(){var t={pName:"",rowspan:1,spec:[{cName:""}]};this.attrs.length>=3||this.attrs.push(t)},toDelete:function(t){this.img_list=[],this.attrs.splice(t,1)},add_canshu:function(t){this.attrs[t].spec.push({cName:""})},del_canshu:function(t,e){this.attrs[t].spec.splice(e,1)},handleClose:function(t){this.dynamicTags.splice(this.dynamicTags.indexOf(t),1)}}},b=v,y=(r("9708"),r("623f")),k=Object(y["a"])(b,f,d,!1,null,null,null),w=k.exports,x={name:"Pro",props:["eid"],data:function(){return{fullscreenLoading:!1,is_cg:0,is_edit:!1,sub:0,loading:!1,dialogVisible:!1,caiji_url:"",length:6,getimg:this.$getimg,show_sku:0,sku_sub:0,sku_comfirm:0,rdata:{},myConfig:{autoHeightEnabled:!1,initialFrameHeight:500,initialFrameWidth:"60%",serverUrl:"/index.php/index/admin/ue_uploads",UEDITOR_HOME_URL:this.$ue+"/static/UEditor/",toolbars:[["justifyleft","justifycenter","justifyright","justifyjustify","bold","forecolor","fontsize","source","insertimage"]]},category:[],forms:{video_id:"",goods_name:"",category_id:"",people:"",shipping_fee:"",market_price:"",price:"",vip_price:"",stock:"",max_buy:"",img_id:"",banner_imgs:[],description:"",content:"",sales:"",style:0,delivery_id:"",guige:0},upfile_url:_["a"]+"img_category/admin/upload/img",upfile_head:{token:localStorage.getItem("token")},upfile_list:[],upfile_list_sku:[],upfile_banner_list:[],sku_table:!1,sub_btn:!0,cate_id:"0",delivery:"",drawer:!1,img_list:[],is_caiji:0}},components:{VueUeditorWrap:l.a,Pic:u["default"],skuv:w},mounted:function(){this.getCategory(),this.get_delivery(),this.eid>0&&this.editProduct(this.eid),console.log(this.img_list)},methods:{back:function(){this.$emit("back")},caiji:function(){this.dialogVisible=!0},sub_caiji:function(){var t=this;this.fullscreenLoading=!0,this.is_caiji=1,this.http.post_show("product/copy/get_info",{url:this.caiji_url}).then((function(e){t.$message({message:"采集成功",type:"success"}),t.fullscreenLoading=!1,t.caiji_url="",t.dialogVisible=!1,t.forms.goods_name=e.data.goods_name;var r=[];for(var i in e.data.banner_imgs_url){var n=e.data.banner_imgs_url[i];r.length<6&&r.push(n)}t.img_list=r}))},handleClose:function(){this.dialogVisible=!1},get_img:function(t){for(var e in this.drawer=!1,t){var r=t[e];this.img_list.push(r),this.forms.banner_imgs.push(r.id+"")}this.length=6-this.img_list.length,console.log("get_img_end:",t,this.img_list)},del_img:function(t){this.img_list.splice(t,1),this.forms.banner_imgs.splice(t,1)},get_delivery:function(){var t=this;this.http.get("delivery/admin/get_delivery").then((function(e){t.delivery=e.data}))},choose_pic:function(){this.length=6-this.img_list.length,this.drawer=!0},on_add:function(){console.log("提交on_add"),this.is_edit=!1,this.sub++},on_xg:function(){console.log("修改on_xg"),this.is_edit=!0,this.sub++},pro_sku:function(t){console.log("pro_sku:",t,this.show_sku),1==this.show_sku?(console.log("ssku:",this.forms["sku"]),this.forms["sku"]=t["list"],this.forms["sku_img_ids"]=t["sku_img_id"]):(console.log("end--sku:",this.forms["sku"]),this.forms["sku"]=[],this.forms["sku_img_ids"]=[]),this.is_edit?this.onEdit():this.onSubmit()},upload_img:function(t){return this.http.post_show("index/upload/down_img",{url:t}).then((function(t){return t}))},get_banner_id:function(){var t=o(regeneratorRuntime.mark((function t(){var e,r,i,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log(this.img_list),e=this,r=[],t.t0=regeneratorRuntime.keys(this.img_list);case 4:if((t.t1=t.t0()).done){t.next=13;break}return i=t.t1.value,n=e.img_list[i],t.next=9,e.upload_img(n);case 9:s=t.sent,r.push(s),t.next=4;break;case 13:return t.abrupt("return",r);case 14:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onSubmit:function(){var t=o(regeneratorRuntime.mark((function t(){var e,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this,1!=e.is_caiji){t.next=5;break}return t.next=4,e.get_banner_id();case 4:e.forms.banner_imgs=t.sent;case 5:console.log("sku:",this.forms["sku"]),this.forms["sku"][0]&&(this.forms["price"]=this.forms["sku"][0]["price"],this.forms["stock"]=this.forms["sku"][0]["stock_num"]),this.http.post_show("product/admin/add_product",e.forms).then((function(t){var i=t.status.toString();2==i.charAt(0)?(r.$message({showClose:!0,message:"新增成功",type:"success"}),r._clsForm(),r.upfile_list=[],r.upfile_list_sku=[],r.upfile_banner_list=[],r.$emit("back")):e.$message({showClose:!0,message:t.data.msg,type:"error"})}));case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),_clsForm:function(){console.log("clear");var t=this;for(var e in t.forms)t.forms[e]="";t.sku_comfirm++},getCategory:function(){var t=this;this.http.get_show("category/admin/all_category").then((function(e){t.category=e.data}))},remove:function(t){var e=this.forms.banner_imgs,r=e.split(","),i=String(t.id),n=r.indexOf(i);n>-1&&r.splice(n,1);var s=r.join(",");this.forms.banner_imgs=s},editProduct:function(t){var e=a["Loading"].service({fullscreen:!0}),r=this;this.http.get_show("product/get_product?id="+t).then((function(t){for(var e in t.data.banner_imgs_list){var i=t.data.banner_imgs_list[e];r.img_list[e]={},r.img_list[e]["id"]=i.id,r.img_list[e]["url"]=i.url}for(var n in console.log("edit_img_list",r.img_list),console.log("sku",t.data.sku),r.forms)r.forms[n]=t.data[n];console.log("num:",t.data.sku_arr["tree"].length),t.data.sku_arr["tree"].length>0&&(console.log("有sku",t.data.sku_arr["tree"]),r.show_sku=1,r.rdata=t.data.sku_arr),r.forms.banner_imgs=t.data.banner_imgs,r.forms.goods_id=t.data.goods_id,r.forms.delivery_id=t.data.delivery_id,r.sub_btn=!1})),e.close()},onEdit:function(){var t=this,e=this;this.http.post_show("product/admin/edit_product",e.forms).then((function(){t.$message({showClose:!0,message:"修改成功",type:"success"}),e.rest()}))},rest:function(){this.$emit("emit_tangou")}}},L=x,S=(r("be82"),Object(y["a"])(L,i,n,!1,null,null,null));e["a"]=S.exports},"777a":function(t,e,r){var i=r("e46b"),n=r("f6b4"),s=r("238a"),o=r("9769"),a="["+o+"]",c="​",l=RegExp("^"+a+a+"*"),u=RegExp(a+a+"*$"),f=function(t,e,r){var n={},a=s((function(){return!!o[t]()||c[t]()!=c})),l=n[t]=a?e(d):o[t];r&&(n[r]=l),i(i.P+i.F*a,"String",n)},d=f.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=f},"859b":function(t,e,r){var i=r("fb68"),n=r("69b3"),s=function(t,e){if(n(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=r("4ce5")(Function.call,r("dcb7").f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(n){e=!0}return function(t,r){return s(t,r),e?t.__proto__=r:i(t,r),t}}({},!1):void 0),check:s}},8714:function(t,e,r){"use strict";var i=r("f1fe"),n=RegExp.prototype.exec,s=String.prototype.replace,o=n,a="lastIndex",c=function(){var t=/a/,e=/b*/g;return n.call(t,"a"),n.call(e,"a"),0!==t[a]||0!==e[a]}(),l=void 0!==/()??/.exec("")[1],u=c||l;u&&(o=function(t){var e,r,o,u,f=this;return l&&(r=new RegExp("^"+f.source+"$(?!\\s)",i.call(f))),c&&(e=f[a]),o=n.call(f,t),c&&o&&(f[a]=f.global?o.index+o[0].length:e),l&&o&&o.length>1&&s.call(o[0],r,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(o[u]=void 0)})),o}),t.exports=o},9708:function(t,e,r){"use strict";var i=r("70f9"),n=r.n(i);n.a},9769:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},"9a0e":function(t,e,r){var i=r("e46b"),n=r("238a"),s=r("f6b4"),o=/"/g,a=function(t,e,r,i){var n=String(s(t)),a="<"+e;return""!==r&&(a+=" "+r+'="'+String(i).replace(o,"&quot;")+'"'),a+">"+n+"</"+e+">"};t.exports=function(t,e){var r={};r[t]=e(a),i(i.P+i.F*n((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",r)}},"9a33":function(t,e,r){"use strict";var i=r("2fd4"),n=r("69b3"),s=r("f63e"),o=r("e754"),a=r("eafa"),c=r("7108"),l=r("8714"),u=r("238a"),f=Math.min,d=[].push,h="split",p="length",m="lastIndex",g=4294967295,_=!u((function(){RegExp(g,"y")}));r("0aed")("split",2,(function(t,e,r,u){var v;return v="c"=="abbc"[h](/(b)*/)[1]||4!="test"[h](/(?:)/,-1)[p]||2!="ab"[h](/(?:ab)*/)[p]||4!="."[h](/(.?)(.?)/)[p]||"."[h](/()()/)[p]>1||""[h](/.?/)[p]?function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!i(t))return r.call(n,t,e);var s,o,a,c=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,h=void 0===e?g:e>>>0,_=new RegExp(t.source,u+"g");while(s=l.call(_,n)){if(o=_[m],o>f&&(c.push(n.slice(f,s.index)),s[p]>1&&s.index<n[p]&&d.apply(c,s.slice(1)),a=s[0][p],f=o,c[p]>=h))break;_[m]===s.index&&_[m]++}return f===n[p]?!a&&_.test("")||c.push(""):c.push(n.slice(f)),c[p]>h?c.slice(0,h):c}:"0"[h](void 0,0)[p]?function(t,e){return void 0===t&&0===e?[]:r.call(this,t,e)}:r,[function(r,i){var n=t(this),s=void 0==r?void 0:r[e];return void 0!==s?s.call(r,n,i):v.call(String(n),r,i)},function(t,e){var i=u(v,t,this,e,v!==r);if(i.done)return i.value;var l=n(t),d=String(this),h=s(l,RegExp),p=l.unicode,m=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(_?"y":"g"),b=new h(_?l:"^(?:"+l.source+")",m),y=void 0===e?g:e>>>0;if(0===y)return[];if(0===d.length)return null===c(b,d)?[d]:[];var k=0,w=0,x=[];while(w<d.length){b.lastIndex=_?w:0;var L,S=c(b,_?d:d.slice(w));if(null===S||(L=f(a(b.lastIndex+(_?0:w)),d.length))===k)w=o(d,w,p);else{if(x.push(d.slice(k,w)),x.length===y)return x;for(var E=1;E<=S.length-1;E++)if(x.push(S[E]),x.length===y)return x;w=k=L}}return x.push(d.slice(k)),x}]}))},aaba:function(t,e,r){"use strict";var i=r("8714");r("e46b")({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},be82:function(t,e,r){"use strict";var i=r("32d5"),n=r.n(i);n.a},dcb7:function(t,e,r){var i=r("4f18"),n=r("cc33"),s=r("09b9"),o=r("94b3"),a=r("e042"),c=r("db6b"),l=Object.getOwnPropertyDescriptor;e.f=r("149f")?l:function(t,e){if(t=s(t),e=o(e,!0),c)try{return l(t,e)}catch(r){}if(a(t,e))return n(!i.f.call(t,e),t[e])}},e754:function(t,e,r){"use strict";var i=r("fc81")(!0);t.exports=function(t,e,r){return e+(r?i(t,e).length:1)}},fc81:function(t,e,r){var i=r("ee21"),n=r("f6b4");t.exports=function(t){return function(e,r){var s,o,a=String(n(e)),c=i(r),l=a.length;return c<0||c>=l?t?"":void 0:(s=a.charCodeAt(c),s<55296||s>56319||c+1===l||(o=a.charCodeAt(c+1))<56320||o>57343?t?a.charAt(c):s:t?a.slice(c,c+2):o-56320+(s-55296<<10)+65536)}}}}]);